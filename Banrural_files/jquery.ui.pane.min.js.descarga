(function(a){a.widget("ui.pane",{options:{title:"Pane Title",displayLeftIcon:false,leftIconFold:"ui-icon-triangle-1-s",leftIconExpand:"ui-icon-triangle-1-e",minmax:true,beforeMinmax:"",afterMinmax:"",titleControl:true,headerControl:false,showHeader:true,help:true,helpCallback:"",customIcons:"",customTips:"",customCallbacks:"",expand:true,disabled:false,closeCallback:"",removeOnClose:false,duration:"slow",close:false,url:undefined},_create:function(){var u=this,m="ui-helper-reset pane ui-widget",j="pane-header ui-state-default ui-corner-top",k="pane-content ui-widget-content ui-corner-bottom",s="pane-title",f="pane-left-icon ui-icon",x=".",A="pane-header",p="pane-title",i="ui-icon ui-icon-minus shrink",B="ui-icon ui-icon-plus shrink",o="ui-icon ui-icon-help help",D="pane-left-icon",g="ui-widget-content",h="_pane",r="ui-icon ui-icon-close close";this.expanded=this.options.expand;this.shown=true;this.el=a(this.element);var v=a("<div/>").insertBefore(this.el).addClass(m).attr("id",this.el.attr("id")+h);this.el.addClass(k).prependTo(v);var C=a("<span/>");var w=a("<div/>").prependTo(v).append(C).addClass(j);C.attr("style","float:left;").addClass(s).html(this.options.title);if(this.options.displayLeftIcon){var c=a("<span/>").prependTo(w).attr("style","float:left;").addClass(f);if(this.expanded){c.addClass(this.options.leftIconFold)}else{c.addClass(this.options.leftIconExpand)}}this.el=v;this.hd=this.el.find(x+A).bind("mouseenter.pane",function(){if(u.options.disabled){return}a(this).addClass("ui-state-hover")}).bind("mouseleave.pane",function(){if(u.options.disabled){return}a(this).removeClass("ui-state-hover")}).bind("focus.pane",function(){if(u.options.disabled){return}a(this).addClass("ui-state-focus")}).bind("blur.pane",function(){if(u.options.disabled){return}a(this).removeClass("ui-state-focus")});this.hdctl=a("<span/>").appendTo(this.hd).attr("class","headerctls").hide();this.el.mouseenter(function(){if(u.hdctl!=null){u.hdctl.fadeIn()}});this.el.mouseleave(function(){if(u.hdctl!=null){u.hdctl.fadeOut()}});if(this.expanded){this.hd.addClass("ui-state-active").addClass("pane-header-active")}else{this.el.find(x+g).hide()}if(a.isArray(this.options.customCallbacks)){a.each(this.options.customCallbacks,function(E,G){if(a.isFunction(G)){var F=a("<span/>");a("<a/>").prependTo(u.hdctl).append(F).attr("title",u.options.customTips[E]).attr("class","ctllink ui-corner-all").attr("href","javascript:void(0)").hover(function(){a(this).toggleClass("ui-state-highlight")});F.addClass("ui-icon "+u.options.customIcons[E]);u.hd.find(x+u.options.customIcons[E]).bind("click",function(H){H.stopPropagation();G(H,u)})}})}else{var d=this.options.customCallbacks;if(a.isFunction(d)){var l=a("<span/>");a("<a/>").prependTo(this.hdctl).append(l).attr("title",this.options.customTips).attr("class","ctllink ui-corner-all").attr("href","javascript:void(0)").hover(function(){a(this).toggleClass("ui-state-highlight")});l.addClass("ui-icon "+this.options.customIcons);this.hd.find(x+this.options.customIcons).bind("click",function(E){E.stopPropagation();d(E,u)})}}this.minmaxFunc=function(){var E=u.options.beforeMinmax;if(a.isFunction(E)){if(!E(u)){return}}if(u.expanded){u.hd.find(".shrink").removeClass("ui-icon-minus").addClass("ui-icon-plus").attr("title","Minimizar/Maximizar");if(u.options.displayLeftIcon&&(u.options.leftIconFold!=u.options.leftIconExpand)){u.hd.find(".pane-left-icon").addClass(u.options.leftIconExpand).removeClass(u.options.leftIconFold)}a(u.element).parents(".pane:first").find(".ui-widget-content").slideUp();u.hd.removeClass("ui-state-active").removeClass("pane-header-active")}else{u.hd.find(".shrink").addClass("ui-icon-minus").removeClass("ui-icon-plus").attr("title","Minimizar/Maximizar");if(u.options.displayLeftIcon&&(u.options.leftIconFold!=u.options.leftIconExpand)){u.hd.find(".pane-left-icon").removeClass(u.options.leftIconExpand).addClass(u.options.leftIconFold)}a(u.element).parents(".pane:first").find(".ui-widget-content").slideDown();u.hd.addClass("ui-state-active").addClass("pane-header-active")}u.expanded=!u.expanded;var F=u.options.afterMinmax;if(a.isFunction(F)){F(u)}};if(this.options.headerControl){this.options.minmax=false;this.options.titleControl=false}if(this.options.help){var n=this.options.helpCallback;if(a.isFunction(n)){var y=a("<span/>");a("<a/>").prependTo(this.hdctl).append(y).attr("class","ctllink ui-corner-all").attr("title","Ayuda").attr("href","javascript:void(0)").hover(function(){a(this).toggleClass("ui-state-highlight")});y.addClass(o);this.hd.find(".help").bind("click",function(E){n(E,u)})}}if(this.options.minmax){var q=a("<span/>");a("<a/>").prependTo(this.hdctl).append(q).attr("class","ctllink ui-corner-all").attr("href","javascript:void(0)").hover(function(){a(this).toggleClass("ui-state-highlight")});if(this.expanded){q.addClass(i);q.attr("title","Minimizar/Maximizar")}else{q.addClass(B);q.attr("title","Minimizar/Maximizar")}this.hd.find(".shrink").bind("click",this.minmaxFunc)}if(this.options.close){var t=a("<span/>");a("<a/>").prependTo(this.hdctl).append(t).attr("class","ctllink ui-corner-all").attr("title","Cerrar").attr("href","javascript:void(0)").hover(function(){a(this).toggleClass("ui-state-highlight")});t.addClass(r);var e=this.options.closeCallback;var b=this.options.duration;var z=this.options.removeOnClose;var v=this.el;this.hd.find(".close").bind("click",function(E){if(a.isFunction(e)){e(E,v)}else{v.slideUp(b,function(){if(z){a(this).remove()}})}})}if(this.options.headerControl){this.hd.bind("click",this.minmaxFunc)}if(this.options.titleControl){this.hd.find(".pane-title").bind("click",this.minmaxFunc)}if(!this.options.showHeader){this.hd.hide()}},title:function(b){a(this.element).parents(".pane:first").find(".pane-title").html(b)},destroy:function(){this.hdctl.children(".ctllink").each(function(c,d){var b=a(d).children(".ui-icon");if(b){b.unbind();b.removeClass();b.empty()}a(d).unbind();a(d).remove()});this.hdctl.removeClass();this.hdctl.unbind();this.hdctl.empty();this.hd.removeClass();this.hd.unbind();a(this.element).insertAfter(this.el);a(this.element).removeClass("pane-content").removeClass("ui-widget-content").removeClass("ui-corner-bottom");this.el.unbind();this.el.remove();a.Widget.prototype.destroy.apply(this,arguments);this.hdctl=null;this.hd=null;this.element=null;this.el=null},fold:function(b){if(this.expanded){this.minmaxFunc()}},expand:function(b){if(!this.expanded){this.minmaxFunc()}},isOpen:function(){return this.expanded},hideHeader:function(b){a(this.element).parents(".pane:first").find(".pane-header").hide()},showHeader:function(b){a(this.element).parents(".pane:first").find(".pane-header").show()},hide:function(b){a(this.element).parents(".pane:first").hide();this.shown=false},show:function(b){a(this.element).parents(".pane:first").show();this.shown=true},isShown:function(b){return this.shown},load:function(c){var b=this;if(b.options.url){a.ajax({url:this.options.url,async:c,success:function(d,f,e){a(b.element).html(d);b.contentLoaded=true},error:function(e,f,d){},complete:function(d,e){}})}}})})(jQuery);