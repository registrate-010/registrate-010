jQuery.fn.showLoading=function(n){var m;var b={addClass:"",beforeShow:"",afterShow:"",hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5000,parent:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null};jQuery.extend(b,n);var a=jQuery("<div></div>");var h=jQuery("<div></div>");if(b.indicatorID){m=b.indicatorID}else{m=jQuery(this).attr("id")}jQuery(a).attr("id","loading-indicator-"+m);jQuery(a).addClass("loading-indicator");if(b.addClass){jQuery(a).addClass(b.addClass)}jQuery(h).css("display","none");jQuery(document.body).append(h);jQuery(h).attr("id","loading-indicator-"+m+"-overlay");jQuery(h).addClass("loading-indicator-overlay");if(b.addClass){jQuery(h).addClass(b.addClass+"-overlay")}var c;var k;var i=jQuery(this).css("border-top-width");var l=jQuery(this).css("border-left-width");i=isNaN(parseInt(i))?0:i;l=isNaN(parseInt(l))?0:l;var g=jQuery(this).offset().left+parseInt(l);var e=jQuery(this).offset().top+parseInt(i);if(b.overlayWidth!==null){c=b.overlayWidth}else{c=parseInt(jQuery(this).width())+parseInt(jQuery(this).css("padding-right"))+parseInt(jQuery(this).css("padding-left"))}if(b.overlayHeight!==null){k=b.overlayWidth}else{k=parseInt(jQuery(this).height())+parseInt(jQuery(this).css("padding-top"))+parseInt(jQuery(this).css("padding-bottom"))}jQuery(h).css("width",c.toString()+"px");jQuery(h).css("height",k.toString()+"px");jQuery(h).css("left",g.toString()+"px");jQuery(h).css("position","absolute");jQuery(h).css("top",e.toString()+"px");jQuery(h).css("z-index",b.overlayZIndex);if(b.overlayCSS){jQuery(h).css(b.overlayCSS)}jQuery(a).css("display","none");jQuery(document.body).append(a);jQuery(a).css("position","absolute");jQuery(a).css("z-index",b.indicatorZIndex);var f=e;if(b.marginTop){f+=parseInt(b.marginTop)}var j=g;if(b.marginLeft){j+=parseInt(b.marginTop)}if(b.hPos.toString().toLowerCase()=="center"){jQuery(a).css("left",(j+((jQuery(h).width()-parseInt(jQuery(a).width()))/2)).toString()+"px")}else{if(b.hPos.toString().toLowerCase()=="left"){jQuery(a).css("left",(j+parseInt(jQuery(h).css("margin-left"))).toString()+"px")}else{if(b.hPos.toString().toLowerCase()=="right"){jQuery(a).css("left",(j+(jQuery(h).width()-parseInt(jQuery(a).width()))).toString()+"px")}else{jQuery(a).css("left",(j+parseInt(b.hPos)).toString()+"px")}}}if(b.vPos.toString().toLowerCase()=="center"){jQuery(a).css("top",(f+((jQuery(h).height()-parseInt(jQuery(a).height()))/2)).toString()+"px")}else{if(b.vPos.toString().toLowerCase()=="top"){jQuery(a).css("top",f.toString()+"px")}else{if(b.vPos.toString().toLowerCase()=="bottom"){jQuery(a).css("top",(f+(jQuery(h).height()-parseInt(jQuery(a).height()))).toString()+"px")}else{jQuery(a).css("top",(f+parseInt(b.vPos)).toString()+"px")}}}if(b.css){jQuery(a).css(b.css)}var d={overlay:h,indicator:a,element:this};if(typeof(b.beforeShow)=="function"){b.beforeShow(d)}jQuery(h).show();jQuery(a).show();if(typeof(b.afterShow)=="function"){b.afterShow(d)}return this};jQuery.fn.hideLoading=function(a){var b={};jQuery.extend(b,a);if(b.indicatorID){indicatorID=b.indicatorID}else{indicatorID=jQuery(this).attr("id")}jQuery(document.body).find("#loading-indicator-"+indicatorID).remove();jQuery(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove();return this};